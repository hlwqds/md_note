# go 核心编程

## 1 基础知识

### 1.1 语言简介 

#### 1.1.1 go语言的诞生背景

go语言的诞生主要基于如下原因:

1. 摩尔定律接近失效后多核服务器已经成为主流，当前的编程语言对并发的支持不是很好，不能很好地发挥多核cpu的威力
2. 程序规模越来越大，编译速度越来越慢，如何快速地编译程序是程序员的迫切需求
3. 现有的编程语言设计越来越复杂

#### 1.1.2 语言特性

##### 语言组织

- 标识符和关键字
- 变量和常量
- 运算符
- 表达式
- 简单语句
- 控制结构

##### 类型系统

- 动静特性
- 类型强弱
- 基本数据类型
- 自定义数据类型

##### 抽象特性

- 函数：是否支持函数、匿名函数、高阶函数、闭包等
- 面向对象
- 多态
- 接口

##### 元编程特性

- 泛型
- 反射

##### 运行和跨平台语言特性

- 编译模式：是编译成可执行文件，还是编译成中间代码，还是解释器解释执行
- 运行模式
- 内存管理
- 并发支持
- 交叉编译
- 跨平台支持

##### 语言软实力特性

- 库
- 框架
- 语言自身兼容性
- 语言影响力

#### 1.1.3 go语言的特性

### 1.2 初识go语言

```go
//定义一个包，包名为main,main是可执行程序的包名，所有的Go源程序文件头部必须有一个包申明语句，Go通过包来管理命名空间
package main
//引用一个外部包fmt，可以是标准库的包，也可以是第三方或者自定义的包。fmt是标准输入\输出包，即format的缩写
import "fmt"

//使用ｆｕｎｃ关键字申明定义一个函数，函数名为main，main代表Go程序入口函数
func main(){
    //调用fmt包里的Printf函数，实参是一个字符串字面量
	fmt.Printf("Hello, world!\n")
}
```

#### Go源代码的特征解读

- 源程序以.go为后缀
- 源程序默认为UTF-8编码
- 标识符区分大小写
- 语句结尾的分号可以省略
- 函数以func开头，函数开头的"{"必须在函数头所在的行尾，不能单独起一行
- 调用包里的方法通过"."访问符
- main函数所在的包名必须是main

#### 编译运行

```bash
#编译
go build hello.go

#运行
./hello
```

### 1.3 Go词法单元

在介绍Go语言具体语法之前，先介绍现代高级语言的源程序内部的几个概念：token、关键字、标识符、操作符、分隔符和字面量

#### 1.3.1 token

token是构成源程序的基本不可再分割的单元。

Go的token分隔符有两类：一类是操作符，还有一类自身没有特殊含义，仅用来分隔其他token，被称为纯分隔符

- 操作符：操作符就是一个天然的分隔符，同时其自身也是一个token
- 纯分隔符：其本身不具备任何语法含义，只作为其他token的分割功能。包括空格、制表符、换行符和回车符

#### 1.3.2 标识符

编程语言的标识符用来标识变量、类型、常量等语法对象的符号名称，其在语法分析时作为一个token存在。编程语言的标识符总体上可以分为两类：语言设计这预留的标识符和编程这自定义的标识符。

Go语言预申明的标识符包括关键字、内置数据类型标识符、常量值标识符、内置函数和空白标识符。

用户自定义标识符用在包名、函数名、自定义类型名、变量名和常量名上

#####　关键字

编程语言中的关键字是指语言设计者保留的有特定语法含义的标识符，这些关键字有自己独特的用途和含义，它们一般用来控制程序结构，每个关键字都代表不同语义的语法糖

- 引导程序整体结构的８个关键字

```go
package //定义包名的关键字
import //导入包名的关键字
const //常量申明关键字
var //变量申明关键字variable
func //函数定义关键字
defer //延迟执行关键字
go //并发语法糖关键字
return //函数返回关键字
```

- 申明复合数据结构的４个关键字

```go
struct //定义结构类型关键字
interface //定义接口类型关键字
map	//申明或创建map类型关键字
chan //申明或创建通道类型关键字
```

- 控制程序结构的13个关键字

```go
if else //if else 语句关键字
for range break continue //for 循环使用的关键字
switch select type case default fallthrough //switch和select语句使用的关键字
goto //goto 跳转语句关键字
```

##### 内置数据类型标识符

